{
    "contents" : "# clusterEval\n\nclusterEval <- function(dbconnection, cohortid, agegroup, gender,\n                        outputFolder, covariatesToInclude,covariatesToExclude)\n{\n  # check input\n  writeLines('Checking input...')\n  test <- .checkInput(dbconnection, cohortid, agegroup, gender,\n                      outputFolder, covariatesToInclude,covariatesToExclude)\n  if(test){\n    writeLines('Incorrect input...')\n    return()}\n\n  # check cohortid, age, gender in local datafile\n  test <- dir.exists(file.path(getwd(), outputFolder,cohortid,'clusterResults',paste(agegroup,'_',gender, sep='')))\n  if(!test){\n    writeLines('No cluster data...')\n    return()}\n\n  # load data:\n  writeLines('Loading cluster data...')\n  load.ffdf(file.path(getwd(), outputFolder,cohortid,'clusterResults',paste(agegroup,'_',gender, sep='')))\n\n  #use ddlpy to count number of patients/ number of recordings of each covariates per cluster\n  writeLines('Summarising cluster data...')\n  evalResults <- ddply(clust.res, ...)\n\n  writeLines('Saving results to directory...')\n  write.csv(evalResults, file.path(getwd(), outputFolder,cohortid,'clusterSummary',paste(agegroup,'_',gender.csv, sep='')))\n\n\n}\n\n.checkinput<- function(){\n  test <- class(dbconnection)=='' & class(cohortid)=='' & class(agegroup)=='' &\n    class(outputfolder)=='' & class(covariatesToInclude)=='' & class(gender)==''\n  & class(covariatesToExclude)==''\n  return(test)\n}\n",
    "created" : 1444514686510.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1556134285",
    "id" : "FEA3BFEE",
    "lastKnownWriteTime" : 1444637599,
    "path" : "~/patientCluster/patientCluster/R/clusterEval.R",
    "project_path" : "R/clusterEval.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "type" : "r_source"
}